# Do not edit
# Generated by Chef
<% zabbix = node['zabbix']['agent'] -%>

<% if zabbix[:pid_file] -%>
PidFile=<%= zabbix[:pid_file] %>
<% end -%>
<% if zabbix[:log_file] -%>
LogFile=<%= zabbix[:log_file] %>
<% end -%>
<% if zabbix[:log_file_size] -%>
# Maximum size of log file in MB.
# 0 - disable automatic log rotation.
#
LogFileSize=<%= zabbix[:log_file_size] %>
<% end -%>
<% if zabbix[:debug_level] -%>
DebugLevel=<%= zabbix[:debug_level] %>
<% end -%>
<% if zabbix[:source_ip] -%>
SourceIP=<%= zabbix[:source_ip] %>
<% end -%>
<% if zabbix[:enable_remote_commands] -%>
EnableRemoteCommands=1
<% end -%>
<% if zabbix[:log_remote_commands] -%>
LogRemoteCommands=1
<% end -%>

##### Passive checks related

Server=<%= zabbix[:servers].join(',').to_s %>
ListenPort=<%= zabbix[:listen_port] %>
ListenIP=<%= zabbix[:listen_ip] %>
<% if zabbix[:start_agents] -%>
StartAgents=<%= zabbix[:start_agents] %>
<% end -%>

##### Active checks related

<% if not zabbix[:servers_active].empty? -%>
ServerActive=<%= zabbix[:servers_active].join(',') %>
<% end -%>
Hostname=<%= zabbix[:hostname] or node[:hostname] %>
<% if zabbix[:refresh_active_checks] -%>
RefreshActiveChecks=<%= zabbix[:refresh_active_checks] %>
<% end -%>
MaxLinesPerSecond=<%= zabbix[:max_lines_per_second] %>


<% if zabbix[:timeout] -%>
Timeout=<%= zabbix[:timeout] %>
<% end -%>
Include=/etc/zabbix/zabbix_agentd.d/
